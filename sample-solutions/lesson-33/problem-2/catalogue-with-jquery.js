const catalogue = [
    {
        title: 'The Invisible Man',
        author: 'Ralph Ellison',
        publishedDate: 1970,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'Leviathan',
        author: 'Thomas Hobbes',
        publishedDate: 1875,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'Everything is Illuminated',
        author: 'Some Dude',
        publishedDate: 2008,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'CONCH as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'BABBAGE as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
];

function generateTable(books) {
    let table = $('<table></table>');

    $('body').append(table);
    $('<tr></tr>').appendTo('table');

    $('<td></td>').text('Title').addClass('book-title').appendTo('tr');
    $('<td></td>').text('Author').appendTo('tr');
    $('<td></td>').text('Date').appendTo('tr');
    $('<td></td>').text('Amazon link').appendTo('tr');

    books.forEach(book => {
            let tr = $('<tr></tr>');
            $('<td></td>').text(book.title).appendTo(tr);
            $('<td></td>').text(book.author).appendTo(tr);
            $('<td></td>').text(book.publishedDate).appendTo(tr);
            $('<td></td>').html(`<a href="${book.url}">link on Amazon</a>`).appendTo(tr);
            tr.appendTo('table');
    });
    
    table.appendTo('body');
}

function clearTable(table) {
    $('#1')
    while (table.rows.length > 0) { 
        table.deleteRow(0);
    }
}

$(() => {
    generateTable(catalogue);
    let table = document.querySelector('table');

    $('.book-title').on('click', () => {
        clearTable(table);
        let sortedCatalogue = catalogue.sort(function(a, b) {
            return a.title == b.title ? 0 : a.title > b.title || -1;
          });
        generateTable(sortedCatalogue);
    });
});