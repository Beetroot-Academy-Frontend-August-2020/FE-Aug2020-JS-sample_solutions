const catalogue = [
    {
        title: 'The Invisible Man',
        author: 'Ralph Ellison',
        publishedDate: 1970,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'Leviathan',
        author: 'Thomas Hobbes',
        publishedDate: 1875,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'Everything is Illuminated',
        author: 'Some Dude',
        publishedDate: 2008,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'CONCH as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'BABBAGE as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
    {
        title: 'A Portrait of an Artist as a Young Man',
        author: 'James Joyce',
        publishedDate: 1916,
        url: 'https://www.amazon.com/Portrait-Artist-Young-Thrift-Editions/dp/0486280500'
    },
];

function generateTable(books) {
    let table = document.createElement('table');

    // generate column headings
    let title = document.createElement('td');
    title.innerText = 'Title';
    title.classList.add('book-title');

    let author = document.createElement('td');
    author.innerText = 'Author';

    let date = document.createElement('td');
    date.innerText = 'Date';

    let url = document.createElement('td');
    url.innerText = 'Amazon link';

    let columnHeadings = document.createElement('tr');

    [title, author, date, url].forEach(heading => {
        columnHeadings.appendChild(heading);
    });

    table.appendChild(columnHeadings);

    books.forEach(book => {
            let tr = document.createElement('tr');
            let t = document.createElement('td');
            let a = document.createElement('td');
            let d = document.createElement('td');
            let u = document.createElement('td');
            t.innerText = book.title;
            a.innerText = book.author;
            d.innerText = book.publishedDate;
            u.innerHTML = `<a href="${book.url}">link on Amazon</a>`;
            tr.appendChild(t), tr.appendChild(a), tr.appendChild(d), tr.appendChild(u);
            table.appendChild(tr);
    });
    
    document.body.appendChild(table);
}

function clearTable(table) { 
    while (table.rows.length > 0) { 
        table.deleteRow(0);
    } 
}

document.addEventListener("DOMContentLoaded", () => {
    generateTable(catalogue);
    let table = document.querySelector('table');

    document.querySelector('.book-title').addEventListener("click", (e) => {
        clearTable(table);
        let sortedCatalogue = catalogue.sort(function(a, b) {
            return a.title == b.title ? 0 : a.title > b.title || -1;
          });
        generateTable(sortedCatalogue);
    });
});